# 遊戲開發數學
## 電腦圖學 - 線性代數 - 向量
參考 wiki：http://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)

向量 (Vector) 為具有大小和方向的量，電腦圖學中用在代表座標位置、線段方向、顏色等應用情境；在遊戲開發中常用於表示位置、速度、加速度等物理量。

### 向量表示
在 3D 空間中，向量可用來表示座標：
```math
\vec{v} = 
\begin{bmatrix}
x \\
y \\
z
\end{bmatrix}
```

### 向量長度
向量的長度（模）表示為 |v|，計算方式為：
```math
|\vec{v}| = \sqrt{x^2 + y^2 + z^2}
```

### 向量正規化
向量正規化是將向量轉換為單位向量（長度為 1）的過程：
```math
\hat{v} = \frac{\vec{v}}{|\vec{v}|} = 
\begin{bmatrix}
x/|\vec{v}| \\
y/|\vec{v}| \\
z/|\vec{v}|
\end{bmatrix}
```

正規化後的向量保持原方向，但長度變為1。在遊戲開發中常用於：
1. 表示方向（如物體朝向）
2. 計算光照
3. 碰撞檢測

## 向量積
向量積是向量運算中最重要的操作，包含內積 (dot product) 和外積 (cross product) 兩種。

### 內積
內積的結果是一個純量（標量），計算方式為：
```math
\vec{a} \cdot \vec{b} = |a||b|\cos\theta = a_xb_x + a_yb_y + a_zb_z
```

內積的應用：
1. 計算兩向量夾角

```math
\cos\theta = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}||\vec{b}|}
```

2. 計算向量投影

```math
proj_{\vec{b}}\vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|^2}\vec{b}
```

3. 判斷 2 向量之間相對方向（正向、反向、垂直）

### 外積
2 向量進行外積的結果是一個新的向量，垂直於這兩個向量：
```math
\vec{a} \times \vec{b} = 
\begin{bmatrix}
a_yb_z - a_zb_y \\
a_zb_x - a_xb_z \\
a_xb_y - a_yb_x
\end{bmatrix}
```

外積的應用：
1. 計算垂直向量

    用外積計算平面的法向量：
```math
\vec{normal} = \vec{v_1} \times \vec{v_2}
```

2. 判斷左右方向


## 遊戲開發應用

### 1. 物體朝向判斷
使用內積判斷物體是否面向目標：
```math
\cos\theta = \frac{\vec{forward} \cdot \vec{toTarget}}{|\vec{forward}||\vec{toTarget}|}
```

### 2. 相機控制
使用外積計算相機的上方向：
```math
\vec{up} = \vec{forward} \times \vec{right}
```

### 3. 碰撞檢測
使用內積和外積進行碰撞檢測：
```math
\vec{distance} = P_2 - P_1
\vec{normal} = \vec{distance} \times \vec{velocity}
|\vec{distance}| < (r_1 + r_2) \text{ 表示發生碰撞}
```

